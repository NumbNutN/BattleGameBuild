window.__require=function e(t,o,n){function r(a,i){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!i&&u)return u(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)r(n[a]);return r}({AmmoBase:[function(e,t,o){"use strict";cc._RF.push(t,"c4065BxAbhNIq8MTJtBmazg","AmmoBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){},c([i],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"18f22CT0ElESp8cJWenPVDn","AudioManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){var e=this.getComponent(cc.AudioSource);cc.loader.loadRes("goat",cc.AudioClip,function(t,o){e.clip=o,e.play(),e.pause(),e.resume(),e.stop(),e.loop=!0,e.volume=1})},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],BarControl:[function(e,t,o){"use strict";cc._RF.push(t,"579171qam5EaIhif4yE/0pg","BarControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},t.prototype.ValueChanged=function(e){this.node.getComponent(cc.Sprite).fillRange=e},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],ButtonManager:[function(e,t,o){"use strict";cc._RF.push(t,"1b4aey2oVxKyaOUq6Wmpy24","ButtonManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("./OnLineManager"),l=e("./State"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},t.prototype.goToNextRound=function(){l.default.mode=l.Mode.FREEZEMODE,u.default.ChangeState(u.OnLineState.YOUR_ROUND)},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./OnLineManager":"OnLineManager","./State":"State"}],CastleControl:[function(e,t,o){"use strict";cc._RF.push(t,"760bdtRrGNLvIXxOaxVjCaa","CastleControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./Message"),i=e("./MessageCenter"),s=e("./State"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.castlePref=null,t.healBarPref=null,t.barPref=null,t.fullHeal=100,t}return r(t,e),t.prototype.onLoad=function(){var e=cc.instantiate(this.castlePref);e.setParent(this.node),e.setPosition(0,0);var t=cc.instantiate(this.healBarPref);t.setParent(this.node),t.setPosition(0,80);var o=cc.instantiate(this.barPref);o.setParent(this.node),o.setPosition(0,80)},Object.defineProperty(t.prototype,"heal",{get:function(){return this._heal},set:function(e){this.healBar.getComponent(cc.Sprite).fillRange=e/this.fullHeal,e>this.fullHeal?this._heal=this.fullHeal:e<=0?(this._heal=0,i.default.SendMessage(a.MessageType.TYPE_ANY,a.MessageCmd.CMD_GAME_OVER,!1)):this._heal=e},enumerable:!1,configurable:!0}),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){s.default.distanceBetweenTwoNut(s.default.actionNut,e)<=s.default.actionNut.attackRadius&&s.default.actionNut.attackChanceRemainder&&(console.debug("\u5bf9\u5730\u65b9\u57ce\u5821\u653b\u51fb\uff01"),e.heal-=s.default.actionNut.atk,s.default.actionNut.attackChanceRemainder-=1,i.default.SendMessage(a.MessageType.TYPE_STATE,a.MessageCmd.CMD_ATTACKCHANCE_CHANGED,null))})},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([p(cc.Prefab)],t.prototype,"castlePref",void 0),c([p(cc.Prefab)],t.prototype,"healBarPref",void 0),c([p(cc.Prefab)],t.prototype,"barPref",void 0),c([l],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./Message":"Message","./MessageCenter":"MessageCenter","./State":"State"}],ComponentBase:[function(e,t,o){"use strict";cc._RF.push(t,"944ba13fXtPX60vINcFkfwI","ComponentBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.ReceiveMessage=function(){},c([i],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],CompoundBase:[function(e,t,o){"use strict";cc._RF.push(t,"eebbaEXOJRDrqgFUNm/k9eU","CompoundBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemFrame=null,t.item=null,t.info_tag_pref=null,t.itemIcon="crossbow_side",t.description="\u80fd\u591f\u8ba9\u4eba\u611f\u5230\u523a\u75db",t}return r(t,e),t.prototype.createCompound=function(){},t.prototype.start=function(){},c([s(cc.Prefab)],t.prototype,"info_tag_pref",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],DroppableItemBase:[function(e,t,o){"use strict";cc._RF.push(t,"ea4edtwO+1OI55Klpl44hk2","DroppableItemBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],EffectMnanger:[function(e,t,o){"use strict";cc._RF.push(t,"e4c08ZTCoZIN4mRJMf30+Bq","EffectMnanger");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ManagerBase"),i=e("./Message"),s=e("./MessageCenter"),u=e("./State"),l=cc._decorator,p=l.ccclass,f=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.moveRadiusPref=null,t.attackRadiusPref=null,t}var o;return r(t,e),o=t,t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},t.prototype.start=function(){},t.prototype.SetMessageType=function(){return i.MessageType.TYPE_EFFECT},t.prototype.ReceiveMessage=function(t){if(e.prototype.ReceiveMessage.call(this,t),t.Command==i.MessageCmd.CMD_CLICK_NUT_ACTION_CHANGED){var n=void 0;switch(t.Content){case u.ClickNutAction.MOVE:n=cc.instantiate(this.moveRadiusPref);break;case u.ClickNutAction.ATTACK:n=cc.instantiate(this.attackRadiusPref)}s.default.SendMessage(i.MessageType.TYPE_EFFECT,i.MessageCmd.CMD_EFFECT_CHANGE,n),n&&(n.setParent(cc.director.getScene()),n.setPosition(u.default.actionNut.node.position))}else if(t.Command==i.MessageCmd.CMD_EFFECT_CHANGE)for(var r=0,c=o.Instance.ReceiveList;r<c.length;r++)c[r].ReceiveMessage(t)},c([f(cc.Label)],t.prototype,"label",void 0),c([f],t.prototype,"text",void 0),c([f(cc.Prefab)],t.prototype,"moveRadiusPref",void 0),c([f(cc.Prefab)],t.prototype,"attackRadiusPref",void 0),o=c([p],t)}(a.default);o.default=d,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./Message":"Message","./MessageCenter":"MessageCenter","./State":"State"}],EquipAccessoriesBase:[function(e,t,o){"use strict";cc._RF.push(t,"33e77kcL89IzqVpiveDPBAG","EquipAccessoriesBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessoryPlace=o.AccessoryProperty=void 0;var a=cc._decorator,i=a.ccclass;a.property,function(e){e[e.IDENTITY_MARK=0]="IDENTITY_MARK",e[e.BUFF=1]="BUFF"}(o.AccessoryProperty||(o.AccessoryProperty={})),function(e){e[e.HEAD=0]="HEAD",e[e.BODY=1]="BODY",e[e.FEET=2]="FEET"}(o.AccessoryPlace||(o.AccessoryPlace={}));var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.setBuff=function(){var e=this;this.accessoryIcon=new cc.Node,this.accessoryIcon.addComponent(cc.Sprite),cc.loader.loadRes(this.accessoryIconStr,cc.SpriteFrame,function(t,o){e.accessoryIcon.getComponent(cc.Sprite).spriteFrame=o}),this.accessoryIcon.setParent(this.host.node),this.accessoryIcon.setPosition(-2,-7),this.accessoryIcon.setScale(.25,.25),this.accessoryIcon.angle=45},t.prototype.resumeBuff=function(){},t.prototype.start=function(){},c([i],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],Interface:[function(e,t,o){"use strict";cc._RF.push(t,"d7bd6qQVThMkqXqjd1+isBO","Interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],InventoryManager:[function(e,t,o){"use strict";cc._RF.push(t,"a3dfeq0siVIob9JZm5XC0hj","InventoryManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ItemCrossbow=o.InventoryItemBase=o.InventoryItemProperty=void 0;var a=cc._decorator,i=a.ccclass,s=a.property;(function(e){e[e.INHERENT=0]="INHERENT",e[e.COMSUMEABLE=1]="COMSUMEABLE"})(o.InventoryItemProperty||(o.InventoryItemProperty={}));var u=function(){function e(){this.itemFrame=null,this.item=null,this._ownNum=0}return e.prototype.changeOwnNum=function(e){if(console.debug("\u5f29\u7bad\u6570\u91cf\u6539\u53d8"),this._ownNum)this._ownNum+e==0?(this._ownNum=0,p.Instance.destroyFrame(this)):(this._ownNum+=e,this.showNumLabel.getComponent(cc.Label).string=this._ownNum);else{if(!(e>0))return 0;p.Instance.createFrame(this.itemPref,this),this._ownNum+=e,this.showNumLabel.getComponent(cc.Label).string=this._ownNum}},e}();o.InventoryItemBase=u;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPref="item_crossbow_pref",t}return r(t,e),t.Instance=function(){return t.instance||(t.instance=new t),t.instance},t}(u);o.ItemCrossbow=l;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.itemFramePref=null,t._currentX=100,t}var o;return r(t,e),o=t,t.prototype.start=function(){o.Instance=this,this.create("item_NormalNut"),this.create("item_Wall")},t.prototype.framePush=function(){this._currentX+=200},t.prototype.frameBack=function(){this._currentX-=200},t.prototype.create=function(e){var t,o=cc.instantiate(this.itemFramePref);o.setParent(this.node),o.x=this._currentX,o.y=0,this.framePush(),cc.loader.loadRes("./prefebs/"+e,cc.Prefab,function(e,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(t=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.setParent(o),t.setPosition(0,0)})},t.prototype.createFrame=function(e,t){console.debug("\u751f\u6210\u5f29\u7bad"),t.itemFrame=cc.instantiate(this.itemFramePref),t.itemFrame.setParent(this.node),t.itemFrame.x=this._currentX,t.itemFrame.y=0,this.framePush(),cc.loader.loadRes("./prefebs/inventory_item_prefabs/"+e,cc.Prefab,function(e,o){o||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),t.item=cc.instantiate(o),t.item||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.item.setParent(t.itemFrame),t.item.setPosition(0,0)}),t.showNumLabel=new cc.Node,t.showNumLabel.color=cc.color(0,0,0),t.showNumLabel.addComponent(cc.Label),t.showNumLabel.setParent(t.itemFrame),t.showNumLabel.setPosition(-70,55),t.showNumLabel.zIndex=1},t.prototype.destroyFrame=function(e){var t,o,n;null===(t=e.itemFrame)||void 0===t||t.destroy(),null===(o=e.item)||void 0===o||o.destroy(),null===(n=e.showNumLabel)||void 0===n||n.destroy(),this.frameBack()},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([s(cc.Prefab)],t.prototype,"itemFramePref",void 0),o=c([i],t)}(cc.Component);o.default=p,cc._RF.pop()},{}],ItemFrameManager:[function(e,t,o){"use strict";cc._RF.push(t,"83bd1o+kfhBSqXMebBe0GM4","ItemFrameManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.suspendItemPref=null,t}return r(t,e),t.prototype.start=function(){},t.prototype.OnMouseMove=function(){},t.prototype.OnMouseClick=function(){},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([s(cc.Prefab)],t.prototype,"suspendItemPref",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],Item_NormalNut:[function(e,t,o){"use strict";cc._RF.push(t,"c982bdkzrRAEZ1vYg3HYHFs","Item_NormalNut");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../State"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(e){var t;a.default.mode==a.Mode.OPERATEMODE&&(a.default.selectedComp=a.SelectedComp.NORMAL_NUT,cc.loader.loadRes("./prefebs/suspend_prefabs/suspend_Nut_Pre",cc.Prefab,function(o,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(t=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.setParent(cc.director.getScene()),t.setPosition(e.getLocation())}))})},c([u(cc.Label)],t.prototype,"label",void 0),c([u],t.prototype,"text",void 0),c([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State"}],ManagerBase:[function(e,t,o){"use strict";cc._RF.push(t,"69bdaAItdpDfKliODGXPpk0","ManagerBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ComponentBase"),i=e("./MessageCenter"),s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReceiveList=[],t}return r(t,e),t.prototype.onLoad=function(){this.messageType=this.SetMessageType(),i.default.RegisterReceiver(this),console.debug("\u7ba1\u7406\u8005\u5df2\u6ce8\u518c\uff1a"),console.debug(this)},t.prototype.SetMessageType=function(){},t.prototype.RegisterReceiver=function(e){this.ReceiveList.push(e)},t.prototype.WithDrawReceiver=function(e){this.ReceiveList.splice(this.ReceiveList.indexOf(e),1)},t.prototype.ReceiveMessage=function(t){if(console.debug("\u7ba1\u7406\u8005\u63a5\u6536\u5230\u6d88\u606f:"),console.debug(t),e.prototype.ReceiveMessage.call(this,t),this.messageType==t.Type||!t.Type)for(var o=0,n=this.ReceiveList;o<n.length;o++){var r=n[o];console.debug("\u5df2\u5206\u53d1\u7ed9\uff1a"),console.debug(r),r.ReceiveMessage(t)}},c([u],t)}(a.default));o.default=l,cc._RF.pop()},{"./ComponentBase":"ComponentBase","./MessageCenter":"MessageCenter"}],MapManager:[function(e,t,o){"use strict";cc._RF.push(t,"62cdbb/wKdEhbwVuuEpB3Yg","MapManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){var e=this;cc.loader.loadRes("3;01'10''S 58;15'39''W 70k_1280x720",cc.SpriteFrame,function(t,o){e.node.getComponent(cc.Sprite).spriteFrame=o})},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],MaterialManager:[function(e,t,o){"use strict";cc._RF.push(t,"70fddmBWolLCoWtxDGlwnEQ","MaterialManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Stone=o.Stick=o.MaterialBase=void 0;var a=e("../ComponentBase"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(){function e(){this.itemFrame=null,this.item=null,this._ownNum=0}return e.prototype.checkConsumeAviliable=function(e){return!(this._ownNum+e<0)},e.prototype.changeOwnNum=function(e){if(this._ownNum){if(this._ownNum+e<0)return 0;this._ownNum+e==0?(this._ownNum=0,d.Instance.destroyFrame(this)):(this._ownNum+=e,this.showNumLabel.getComponent(cc.Label).string=this._ownNum)}else{if(!(e>0))return 0;d.Instance.createFrame(this.materialPref,this),this._ownNum+=e,this.showNumLabel.getComponent(cc.Label).string=this._ownNum}},e}();o.MaterialBase=l;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.materialPref="stick_material",t.icon="stick",t}return r(t,e),t.Instance=function(){return t.instance||(t.instance=new t),t.instance},t}(l);o.Stick=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.materialPref="stone_material",t.icon="stone",t}return r(t,e),t.Instance=function(){return t.instance||(t.instance=new t),t.instance},t}(l);o.Stone=f;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemFramePref=null,t._currentY=-100,t}var o;return r(t,e),o=t,t.prototype.start=function(){o.Instance=this,p.Instance().changeOwnNum(20),f.Instance().changeOwnNum(2)},t.prototype.framePush=function(){this._currentY-=200},t.prototype.frameBack=function(){this._currentY+=200},t.prototype.createFrame=function(e,t){t.itemFrame=cc.instantiate(this.itemFramePref),t.itemFrame.setParent(this.node),t.itemFrame.y=this._currentY,t.itemFrame.x=0,this.framePush(),cc.loader.loadRes("./prefebs/material_prefabs/"+e,cc.Prefab,function(e,o){o||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),t.item=cc.instantiate(o),t.item||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.item.setParent(t.itemFrame),t.item.setPosition(0,0)}),t.showNumLabel=new cc.Node,t.showNumLabel.color=cc.color(0,0,0),t.showNumLabel.addComponent(cc.Label),t.showNumLabel.setParent(t.itemFrame),t.showNumLabel.setPosition(-70,55),t.showNumLabel.zIndex=1},t.prototype.destroyFrame=function(e){var t,o,n;null===(t=e.itemFrame)||void 0===t||t.destroy(),null===(o=e.item)||void 0===o||o.destroy(),null===(n=e.showNumLabel)||void 0===n||n.destroy(),this.frameBack()},c([u(cc.Prefab)],t.prototype,"itemFramePref",void 0),o=c([s],t)}(a.default);o.default=d,cc._RF.pop()},{"../ComponentBase":"ComponentBase"}],MessageCenter:[function(e,t,o){"use strict";cc._RF.push(t,"2baa4fcxARMlasS1L7lP3gg","MessageCenter");var n=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./Message"),c=cc._decorator,a=c.ccclass,i=(c.property,function(){function e(){}return e.Send=function(e){for(var t=0,o=this.ManagersList;t<o.length;t++)o[t].ReceiveMessage(e)},e.SendMessage=function(e,t,o){var n=new r.default(e,t,o);this.Send(n)},e.RegisterReceiver=function(e){this.ManagersList.push(e)},e.ManagersList=[],n([a],e)}());o.default=i,cc._RF.pop()},{"./Message":"Message"}],Message:[function(e,t,o){"use strict";cc._RF.push(t,"31ba3RRhcVEMKAo7tRepqtB","Message");var n=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MessageCmd=o.MessageType=void 0;var r=cc._decorator,c=r.ccclass,a=(r.property,function(){function e(e,t,o){this.Type=e,this.Command=t,this.Content=o}return n([c],e)}());o.default=a,function(e){e[e.TYPE_ANY=0]="TYPE_ANY",e[e.TYPE_UI=1]="TYPE_UI",e[e.TYPE_STATE=2]="TYPE_STATE",e[e.TYPE_BUILD=3]="TYPE_BUILD",e[e.TYPE_WINDOW=4]="TYPE_WINDOW",e[e.TYPE_NUT=5]="TYPE_NUT",e[e.TYPE_EFFECT=6]="TYPE_EFFECT"}(o.MessageType||(o.MessageType={})),function(e){e[e.CMD_MODECHANGED=0]="CMD_MODECHANGED",e[e.CMD_ACTIONCHANGED=1]="CMD_ACTIONCHANGED",e[e.CMD_MOVECHANCE_CHANGED=2]="CMD_MOVECHANCE_CHANGED",e[e.CMD_BUILDCHANCE_CHANGED=3]="CMD_BUILDCHANCE_CHANGED",e[e.CMD_ATTACKCHANCE_CHANGED=4]="CMD_ATTACKCHANCE_CHANGED",e[e.CMD_UI_VALUE_CHANGE=5]="CMD_UI_VALUE_CHANGE",e[e.CMD_MOVEING_DONE=6]="CMD_MOVEING_DONE",e[e.CMD_ROUND_OVER=7]="CMD_ROUND_OVER",e[e.CMD_CLICK_NUT_ACTION_CHANGED=8]="CMD_CLICK_NUT_ACTION_CHANGED",e[e.CMD_GAME_OVER=9]="CMD_GAME_OVER",e[e.CMD_EFFECT_CHANGE=10]="CMD_EFFECT_CHANGE"}(o.MessageCmd||(o.MessageCmd={})),cc._RF.pop()},{}],NormalNut_Mirror:[function(e,t,o){"use strict";cc._RF.push(t,"4abd1j45ExEmJpSzdGzGkQn","NormalNut_Mirror");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../ComponentBase"),l=e("../Message"),p=e("../MessageCenter"),f=e("../Nut/NutManager"),d=e("../State"),h=e("../State"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.cursorAimedFramePref=null,t.barPref=null,t.healBarPref=null,t.shieldBarPref=null,t.ringPref=null,t._heal=100,t.fullHeal=100,t._shield=50,t.fullShield=50,t.valueObserver=new Array,t.owner=d.Owner.SELF,t}return r(t,e),Object.defineProperty(t.prototype,"heal",{get:function(){return this._heal},set:function(e){this.healBar.getComponent(cc.Sprite).fillRange=e/this.fullHeal,e>this.fullHeal?this._heal=this.fullHeal:e<=0?(this._heal=0,f.default.Instance.WithDrawReceiver(this),d.default.selectedEnemyNut==this&&(d.default.selectedEnemyNut=null),this.node.destroy()):(this._heal=e,this.ani=this.getComponent(cc.Animation),this.ani.play("nut_be_slapped"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shield",{get:function(){return this._shield},set:function(e){this.shieldBar.getComponent(cc.Sprite).fillRange=e/this.fullShield,e>this.fullShield?this._heal=this.fullShield:this._shield=e<=0?0:e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){f.default.Instance.RegisterReceiver(this),this.moveChanceRemainder=1,this.attackChanceRemainder=1},t.prototype.start=function(){var e=this;this.node.zIndex=1,this.healBar=cc.instantiate(this.healBarPref),this.healBar.setParent(this.node),this.healBar.setPosition(0,30),this.shieldBar=cc.instantiate(this.shieldBarPref),this.shieldBar.setParent(this.node),this.shieldBar.setPosition(0,40);var t=cc.instantiate(this.barPref);t.setParent(this.node),t.setPosition(0,30);var o=cc.instantiate(this.barPref);o.setParent(this.node),o.setPosition(0,40);var n=cc.instantiate(this.ringPref);n.setParent(this.node),n.setPosition(0,-20),this.node.on(cc.Node.EventType.MOUSE_ENTER,function(t){e._cursorAimedFrame||(e._cursorAimedFrame=cc.instantiate(e.cursorAimedFramePref),e._cursorAimedFrame.setParent(e.node),e._cursorAimedFrame.setPosition(0,0)),d.default.mode==h.Mode.ATTACKMODE&&d.default.distanceBetweenTwoNut(d.default.actionNut,e)<=d.default.actionNut.attackRadius&&!e.attackSuspendedIcon&&(console.debug("\u4fa6\u6d4b\u5230\u654c\u4eba"),e.attackSuspendedIcon=cc.instantiate(e.attackSuspendedIconPref),e.attackSuspendedIcon.setParent(cc.director.getScene()),e.attackSuspendedIcon.setPosition(t.getLocation()))}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){console.debug("\u79bb\u5f00\u654c\u4eba"),e._cursorAimedFrame&&(e._cursorAimedFrame.destroy(),e._cursorAimedFrame=null),e.attackSuspendedIcon&&(e.attackSuspendedIcon.destroy(),e.attackSuspendedIcon=null)}),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){d.default.distanceBetweenTwoNut(d.default.actionNut,e)<=d.default.actionNut.attackRadius&&d.default.actionNut.attackChanceRemainder&&(d.default.selectedEnemyNut=e,d.default.actionNut.attackChanceRemainder-=1,p.default.SendMessage(l.MessageType.TYPE_STATE,l.MessageCmd.CMD_ATTACKCHANCE_CHANGED,null),d.default.actionNut.attacking())})},t.prototype.moving=function(e,t,o){var n=this,r=cc.moveTo(e,t,o),c=cc.callFunc(function(){n.ani.stop()}),a=cc.sequence(r,c);this.node.runAction(a),this.ani=this.getComponent(cc.Animation),this.ani.play("walking_nut_without_weapon"),console.debug("\u5f53\u524d\u79fb\u52a8\u5c0f\u4eba\u7684id\u4e3a\uff1a"),console.debug(this.ID)},t.prototype.update=function(){},t.prototype.ReceiveMessage=function(e){switch(e.Command){case l.MessageCmd.CMD_ROUND_OVER:this.attackChanceRemainder=1}},t._instance=null,c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([s(cc.Prefab)],t.prototype,"cursorAimedFramePref",void 0),c([s(cc.Prefab)],t.prototype,"barPref",void 0),c([s(cc.Prefab)],t.prototype,"healBarPref",void 0),c([s(cc.Prefab)],t.prototype,"shieldBarPref",void 0),c([s(cc.Prefab)],t.prototype,"ringPref",void 0),c([s(cc.Prefab)],t.prototype,"attackSuspendedIconPref",void 0),c([i],t)}(u.default);o.default=_,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../MessageCenter":"MessageCenter","../Nut/NutManager":"NutManager","../State":"State"}],NormalNut:[function(e,t,o){"use strict";cc._RF.push(t,"759f0U6qz5MkaRCWvTIjrGr","NormalNut");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../Message"),l=e("../MessageCenter"),p=e("./NutBase"),f=e("./NutManager"),d=e("../OnLineManager"),h=e("../State"),_=e("../State"),y=e("../equipItem/EquipAccessoriesBase"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.cursorAimedFramePref=null,t.barPref=null,t.healBarPref=null,t.shieldBarPref=null,t.moveRadiusPref=null,t.attackRadiusPref=null,t.ringPref=null,t.valueObserver=new Array,t.owner=h.Owner.SELF,t._heal=100,t.fullHeal=100,t._shield=50,t.fullShield=50,t._actionRandom=100,t.atk=10,t.attackRadius=100,t.moveRadius=100,t.pickRaduis=100,t.attackMotion="nut_slap",t.equipAccessories=[],t}return r(t,e),t.prototype.refreshAccessoriesStatus=function(){for(var e=0,t=this.equipAccessories;e<t.length;e++){var o=t[e];o.property==y.AccessoryProperty.BUFF&&(o.validDate-=1,o.validDate||(o.resumeBuff(),this.equipAccessories.splice(this.equipAccessories.indexOf(o),1)))}},t.prototype.addAccessory=function(e){if(e.property==y.AccessoryProperty.IDENTITY_MARK)for(var t=0,o=this.equipAccessories;t<o.length;t++){var n=o[t];n.property==y.AccessoryProperty.IDENTITY_MARK&&(n.resumeBuff(),this.equipAccessories.splice(this.equipAccessories.indexOf(n),1))}this.equipAccessories.push(e),e.setBuff()},Object.defineProperty(t.prototype,"heal",{get:function(){return this._heal},set:function(e){this.healBar.getComponent(cc.Sprite).fillRange=e/this.fullHeal,e>this.fullHeal?this._heal=this.fullHeal:e<=0?(this._heal=0,f.default.Instance.WithDrawReceiver(this),this.node.destroy()):(this._heal=e,this.ani=this.getComponent(cc.Animation),this.ani.play("nut_be_slapped"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shield",{get:function(){return this._shield},set:function(e){this.shieldBar.getComponent(cc.Sprite).fillRange=e/this.fullShield,e>this.fullShield?this._heal=this.fullShield:this._shield=e<=0?0:e},enumerable:!1,configurable:!0}),t.prototype.moving=function(e,t){var o=this;h.default.action=_.Process.MOVING;var n=cc.moveTo(e,t),r=cc.callFunc(function(){o.ani.stop(),h.default.action=_.Process.DO_NOTHING,h.default.mode=_.Mode.OPERATEMODE}),c=cc.sequence(n,r);this.node.runAction(c),this.ani=this.getComponent(cc.Animation),this.ani.play("walking_nut_without_weapon"),console.debug("\u5f53\u524d\u79fb\u52a8\u5c0f\u4eba\u7684id\u4e3a\uff1a"),console.debug(this.ID),d.default.SynchroNutPosition(this.ID,[t.x,t.y])},t.prototype.attacking=function(){var e=this;h.default.action=_.Process.ATTACKING,this.ani=this.getComponent(cc.Animation),d.default.SynchroNutAni(this.ID,this.attackMotion);var t=cc.callFunc(function(){e.ani.play(e.attackMotion);for(var t=0,o=e.equipAccessories;t<o.length;t++){var n=o[t];n.property==y.AccessoryProperty.IDENTITY_MARK&&(console.log(n),console.log(n.accessoryIcon),n.accessoryIcon.opacity=0)}}),o=cc.callFunc(function(){for(var t=0,o=e.equipAccessories;t<o.length;t++){var n=o[t];n.property==y.AccessoryProperty.IDENTITY_MARK&&(n.accessoryIcon.opacity=255)}}),n=cc.sequence(t,cc.delayTime(2.24),o);this.node.runAction(n)},t.prototype.fireAmmo=function(){var e=this;if(h.default.selectedEnemyNut)for(var t=function(t){if(t.property==y.AccessoryProperty.IDENTITY_MARK){var n;console.debug("\u53d1\u73b0\u5f29\u7bad"),console.debug(h.default.selectedEnemyNut),console.debug(t.ammoPref);var r=180*Math.atan2(h.default.selectedEnemyNut.node.y-o.node.y,h.default.selectedEnemyNut.node.x-o.node.x)/Math.PI-90;cc.loader.loadRes("prefebs/ammo_prefabs/"+t.ammoPref,cc.Prefab,function(o,c){c||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(n=cc.instantiate(c))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),n.setParent(cc.director.getScene()),n.setPosition(e.node.getPosition()),n.angle=r;var a=cc.moveTo(1,h.default.selectedEnemyNut.node.getPosition());n.runAction(a),d.default.SynchroLaunchAmmo([e.node.x,e.node.y],[h.default.selectedEnemyNut.node.x,h.default.selectedEnemyNut.node.y],r,t.ammoIconStr)})}},o=this,n=0,r=this.equipAccessories;n<r.length;n++)t(r[n])},t.prototype.slap=function(){h.default.selectedEnemyNut&&(h.default.selectedEnemyNut.heal-=this.atk,h.default.selectedAccessory.setBuff)},t.prototype.onLoad=function(){f.default.Instance.RegisterReceiver(this),this.moveChanceRemainder=1,this.attackChanceRemainder=1},t.prototype.start=function(){var e=this;this.node.zIndex=1,this.healBar=cc.instantiate(this.healBarPref),this.healBar.setParent(this.node),this.healBar.setPosition(0,30),this.shieldBar=cc.instantiate(this.shieldBarPref),this.shieldBar.setParent(this.node),this.shieldBar.setPosition(0,40);var t=cc.instantiate(this.barPref);t.setParent(this.node),t.setPosition(0,30);var o=cc.instantiate(this.barPref);o.setParent(this.node),o.setPosition(0,40),this.ID=h.default.distributeNewID(),h.default.Instance.updateMoveRemainder(),h.default.Instance.updateAttackRemainder(),this.ring=cc.instantiate(this.ringPref),this.ring.setParent(this.node),this.ring.setPosition(0,-20),d.default.SynChroNewNut(this.ID,[this.node.x,this.node.y]),d.default.Instance.nutdic[this.ID]=this,this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e._cursorAimedFrame||(e._cursorAimedFrame=cc.instantiate(e.cursorAimedFramePref),e._cursorAimedFrame.setParent(e.node),e._cursorAimedFrame.setPosition(0,0))}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e._cursorAimedFrame&&(e._cursorAimedFrame.destroy(),e._cursorAimedFrame=null)}),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){if(h.default.mode==_.Mode.OPERATEMODE||h.default.mode==_.Mode.ATTACKMODE||h.default.mode==_.Mode.MOVEMODE)switch(h.default.clickNutAction){case h.ClickNutAction.MOVE:e.moveRadiusCircle=cc.instantiate(e.moveRadiusPref),e.moveRadiusCircle.setParent(cc.director.getScene()),e.moveRadiusCircle.setPosition(e.node.position),l.default.SendMessage(u.MessageType.TYPE_EFFECT,u.MessageCmd.CMD_EFFECT_CHANGE,e.moveRadiusCircle),h.default.selectedComp=h.SelectedComp.NUT_IN_GROUND,h.default.mode=_.Mode.MOVEMODE,h.default.actionNut=e;break;case h.ClickNutAction.ATTACK:h.default.actionNut=e;var t=cc.instantiate(e.attackRadiusPref);t.setParent(cc.director.getScene()),t.setPosition(e.node.position),h.default.mode=_.Mode.ATTACKMODE,l.default.SendMessage(u.MessageType.TYPE_EFFECT,u.MessageCmd.CMD_EFFECT_CHANGE,t)}else h.default.mode==_.Mode.COMPOUNDMODE&&(h.default.selectedAccessory.host=e,e.addAccessory(h.default.selectedAccessory),h.default.selectedAccessory.pointToInventoryItem.changeOwnNum(-1))})},t.prototype.update=function(){},t.prototype.ReceiveMessage=function(e){switch(e.Command){case u.MessageCmd.CMD_ROUND_OVER:this.moveChanceRemainder=1,this.attackChanceRemainder=1}},t._instance=null,c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([s(cc.Prefab)],t.prototype,"cursorAimedFramePref",void 0),c([s(cc.Prefab)],t.prototype,"barPref",void 0),c([s(cc.Prefab)],t.prototype,"healBarPref",void 0),c([s(cc.Prefab)],t.prototype,"shieldBarPref",void 0),c([s(cc.Prefab)],t.prototype,"moveRadiusPref",void 0),c([s(cc.Prefab)],t.prototype,"attackRadiusPref",void 0),c([s(cc.Prefab)],t.prototype,"ringPref",void 0),c([i],t)}(p.default);o.default=b,cc._RF.pop()},{"../Message":"Message","../MessageCenter":"MessageCenter","../OnLineManager":"OnLineManager","../State":"State","../equipItem/EquipAccessoriesBase":"EquipAccessoriesBase","./NutBase":"NutBase","./NutManager":"NutManager"}],NutBase:[function(e,t,o){"use strict";cc._RF.push(t,"b07beL/4JJI/YgFqRmQCubD","NutBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,i=e("../ComponentBase");(function(e){e[e.NormalNut=0]="NormalNut",e[e.Shooter=1]="Shooter",e[e.Builder=2]="Builder",e[e.Killer=3]="Killer",e[e.King=4]="King"})(a||(a={}));var s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.movingAnimation=function(){},t.prototype.moving=function(){},t.prototype.attacking=function(){},c([u],t)}(i.default));o.default=l,cc._RF.pop()},{"../ComponentBase":"ComponentBase"}],NutManager:[function(e,t,o){"use strict";cc._RF.push(t,"f4bdahmuldH+IIpoTp1w0Hw","NutManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ManagerBase"),i=e("../Message"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.normalNutHeal=100,t.normalNutShield=50,t.ReceiveList=[],t}var o;return r(t,e),o=t,t.prototype.SetMessageType=function(){return i.MessageType.TYPE_NUT},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},t.moveChanceInNewRound=function(){return this.Instance.ReceiveList.length},t.prototype.start=function(){},c([l(cc.Label)],t.prototype,"label",void 0),c([l],t.prototype,"text",void 0),c([l],t.prototype,"normalNutHeal",void 0),c([l],t.prototype,"normalNutShield",void 0),o=c([u],t)}(a.default);o.default=p,cc._RF.pop()},{"../ManagerBase":"ManagerBase","../Message":"Message"}],OnLineManager:[function(e,t,o){"use strict";cc._RF.push(t,"2f1f7BxxpNLPJWGIHsEIxyZ","OnLineManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnLineState=void 0;var a,i=e("./ManagerBase"),s=e("./State"),u=cc._decorator,l=u.ccclass,p=u.property;(function(e){e[e.YOUR_ROUND=0]="YOUR_ROUND",e[e.LOSE=1]="LOSE",e[e.VICTORY=2]="VICTORY"})(a=o.OnLineState||(o.OnLineState={}));var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.normal_nut_pref=null,t.mirrorNutdic={},t.nutdic={},t.pickableItemdic={},t.socket=null,t}var o;return r(t,e),o=t,t.prototype.start=function(){var e=this;o.Instance=this,this.socket=io.connect("47.92.104.0:5050"),this.socket.on("connect",function(){console.debug("\u8fde\u63a5\u6210\u529f"),e.node.getChildByName("personalId").getComponent(cc.Label).string=""+e.socket.id,e.socket.on("matchid",function(t){o.matchID=t,e.node.getChildByName("opponentId").getComponent(cc.Label).string=""+t}),e.socket.on("SynChroNewNut",function(t){console.debug("\u63a5\u6536\u5230\u5bf9\u624b\u65b0\u5efa\u7684nut"),console.debug(t);var o=cc.instantiate(e.normal_nut_pref);o.setParent(cc.director.getScene()),o.x=t.x,o.y=t.y,e.mirrorNutdic[t.nutID]=o.getComponent("NormalNut_Mirror"),o.getComponent("NormalNut_Mirror").ID=t.nutID}),e.socket.on("SynchroNutPosition",function(t){var o=e.mirrorNutdic[t.nutID];null==o||o.moving(3,Number(t.x),Number(t.y))}),e.socket.on("SynchroNutAni",function(t){var o=e.mirrorNutdic[t.nutID];console.debug(o.node),o.node.getComponent(cc.Animation).play(t.ani)}),e.socket.on("SynchroLaunchAmmo",function(e){cc.loader.loadRes(e.ammoType,cc.SpriteFrame,function(t,o){var n=new cc.Node;n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=o,n.setParent(cc.director.getScene()),n.setPosition(e.bgX,e.bgY),n.angle=e.angle;var r=cc.moveTo(1,e.eX,e.eY),c=cc.callFunc(function(){n.destroy()}),a=cc.sequence(r,c);n.runAction(a)})}),e.socket.on("SynchroNutValue",function(t){e.nutdic[t.nutID].heal+=t.value}),e.socket.on("SynchroNewPickableItem",function(t){var o;cc.loader.loadRes("./prefebs/pickable_prefabs/"+t.itemType,cc.Prefab,function(n,r){r||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(o=cc.instantiate(r))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),o.setParent(cc.director.getScene()),o.setPosition(t.pos),e.pickableItemdic[s.default.curPickableID-1]=o.getComponent(t.itemType)})}),e.socket.on("SynchroDestroyPickableItem",function(t){e.pickableItemdic[t.itemID].node.destroy()}),e.socket.on("ChangeState",function(e){switch(e.state){case a.YOUR_ROUND:s.default.mode=s.Mode.OPERATEMODE}})})},t.SynChroNewNut=function(e,t){var n=t[0],r=t[1];o.Instance.socket.emit("SynChroNewNut",{socketID:o.matchID,nutID:e,x:n,y:r})},t.SynchroNutPosition=function(e,t){var n=t[0],r=t[1];o.Instance.socket.emit("SynchroNutPosition",{socketID:o.matchID,nutID:e,x:n,y:r})},t.SynchroNutAni=function(e,t){o.Instance.socket.emit("SynchroNutAni",{socketID:o.matchID,nutID:e,ani:t})},t.SynchroLaunchAmmo=function(e,t,n,r){var c=e[0],a=e[1],i=t[0],s=t[1];o.Instance.socket.emit("SynchroLaunchAmmo",{socketID:o.matchID,bgX:c,bgY:a,eX:i,eY:s,angle:n,ammoType:r})},t.SynchroNutValue=function(e,t){o.Instance.socket.emit("SynchroNutValue",{socketID:o.matchID,nutID:e,value:t})},t.SynchroNewPickableItem=function(e,t){o.Instance.socket.emit("SynchroNewPickableItem",{socketID:o.matchID,itemType:e,pos:t})},t.SynchroDestroyPickableItem=function(e){console.log("\u5df2\u53d1\u9001\u540c\u6b65\u7269\u54c1\u7684\u8bf7\u6c42"),o.Instance.socket.emit("SynchroDestroyPickableItem",{socketID:o.matchID,itemID:e})},t.ChangeState=function(e){o.Instance.socket.emit("ChangeState",{socketID:o.matchID,state:e})},t.prototype.SynchroCreateWall=function(){},t.prototype.SynchroWallValue=function(){},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([p(cc.Prefab)],t.prototype,"normal_nut_pref",void 0),o=c([l],t)}(i.default);o.default=f,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./State":"State"}],PickableItemBase:[function(e,t,o){"use strict";cc._RF.push(t,"7883fx1JmhI0LtlKgdVdLAp","PickableItemBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,e("../State")),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){this.itemID=s.default.distributeNewPickableItemID()},c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../State":"State"}],PickableItemManager:[function(e,t,o){"use strict";cc._RF.push(t,"8c2faz+KiBHkLjrHUDjjFgE","PickableItemManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../OnLineManager"),i=e("../State"),s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.createNewItem=function(e,t,o){var n;cc.loader.loadRes("./prefebs/pickable_prefabs/"+e,cc.Prefab,function(r,c){c||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(n=cc.instantiate(c))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),n.setParent(cc.director.getScene()),n.setPosition(t,o),a.default.Instance.pickableItemdic[i.default.curPickableID-1]=n.getComponent(e),a.default.SynchroNewPickableItem(e,n.getPosition())})},c([u],t)}(cc.Component));o.default=l,cc._RF.pop()},{"../OnLineManager":"OnLineManager","../State":"State"}],PreviewWallControl:[function(e,t,o){"use strict";cc._RF.push(t,"23070CwRaRDDYj4iLJ+6AbS","PreviewWallControl");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./State"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.wallPre=null,t}return r(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){a.default.mode==a.Mode.BUILDMODE&&(e.node.opacity=70)}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){a.default.mode==a.Mode.BUILDMODE&&(e.node.opacity=0)}),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){if(t.stopPropagation(),a.default.mode==a.Mode.BUILDMODE){var o=cc.instantiate(e.wallPre);o.setParent(e.node.getParent()),o.setPosition(e.node.position),o.angle=e.node.angle,e.node.destroy()}})},c([u(cc.Label)],t.prototype,"label",void 0),c([u],t.prototype,"text",void 0),c([u(cc.Prefab)],t.prototype,"wallPre",void 0),c([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./State":"State"}],RadiusAttack:[function(e,t,o){"use strict";cc._RF.push(t,"2bbbe4sDpRIOphDRTaKIgt8","RadiusAttack");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("./State"),l=e("./Message"),p=e("./EffectMnanger"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){p.default.Instance.RegisterReceiver(this)},t.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){u.default.canAttack=!0}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){u.default.canAttack=!1})},t.prototype.ReceiveMessage=function(e){e.Command==l.MessageCmd.CMD_EFFECT_CHANGE&&e.Content!=this.node&&(p.default.Instance.WithDrawReceiver(this),this.node.destroy())},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(e("./ComponentBase").default);o.default=f,cc._RF.pop()},{"./ComponentBase":"ComponentBase","./EffectMnanger":"EffectMnanger","./Message":"Message","./State":"State"}],RadiusMove:[function(e,t,o){"use strict";cc._RF.push(t,"13024HQ+UJHIb4siGf4mqxi","RadiusMove");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ComponentBase"),i=e("./EffectMnanger"),s=e("./Message"),u=e("./MessageCenter"),l=e("./State"),p=cc._decorator,f=p.ccclass,d=p.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){i.default.Instance.RegisterReceiver(this)},t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){l.default.canMove=!0}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){l.default.canMove=!1}),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){l.default.canMove&&l.default.actionNut.moveChanceRemainder&&(i.default.Instance.WithDrawReceiver(e),e.node.destroy(),l.default.actionNut.moving(3,t.getLocation()),l.default.actionNut.moveChanceRemainder-=1,u.default.SendMessage(s.MessageType.TYPE_STATE,s.MessageCmd.CMD_MOVECHANCE_CHANGED,null))})},t.prototype.ReceiveMessage=function(e){e.Command==s.MessageCmd.CMD_EFFECT_CHANGE&&e.Content!=this.node&&(i.default.Instance.WithDrawReceiver(this),this.node.destroy())},c([d(cc.Label)],t.prototype,"label",void 0),c([d],t.prototype,"text",void 0),c([f],t)}(a.default);o.default=h,cc._RF.pop()},{"./ComponentBase":"ComponentBase","./EffectMnanger":"EffectMnanger","./Message":"Message","./MessageCenter":"MessageCenter","./State":"State"}],ShowWindowManager:[function(e,t,o){"use strict";cc._RF.push(t,"89e6e4Ii9tEWb26l41VtBB8","ShowWindowManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ManagerBase"),i=e("./Message"),s=e("./State"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){var e;(e=new cc.Node).addComponent(cc.Label),e.setParent(this.node),e.setPosition(50,50),e.getComponent(cc.Label).string="\u55b5\u55b5\u55b5\uff1f",e.zIndex=1},t.prototype.SetMessageType=function(){},t.prototype.ReceiveMessage=function(e){if(e.Type==i.MessageType.TYPE_WINDOW||!e.Type)switch(e.Command){case i.MessageCmd.CMD_MODECHANGED:e.Content==s.Mode.BUILDMODE&&this.node.on(cc.Node.EventType.MOUSE_MOVE,function(){})}},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([l],t)}(a.default);o.default=f,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./Message":"Message","./State":"State"}],State:[function(e,t,o){"use strict";cc._RF.push(t,"acbe1sa8vtNhqtBeAl67das","State");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ClickNutAction=o.Owner=o.Action=o.Process=o.Mode=o.SelectedComp=void 0;var a,i,s,u,l=e("./ManagerBase"),p=e("./Message"),f=e("./MessageCenter"),d=e("./Nut/NutManager"),h=cc._decorator,_=h.ccclass,y=h.property;(function(e){e[e.NORMAL_NUT=0]="NORMAL_NUT",e[e.WALL=1]="WALL",e[e.NUT_IN_GROUND=2]="NUT_IN_GROUND"})(a=o.SelectedComp||(o.SelectedComp={})),function(e){e[e.WAITMODE=0]="WAITMODE",e[e.OPERATEMODE=1]="OPERATEMODE",e[e.MOVEMODE=2]="MOVEMODE",e[e.BUILDMODE=3]="BUILDMODE",e[e.ATTACKMODE=4]="ATTACKMODE",e[e.COMPOUNDMODE=5]="COMPOUNDMODE",e[e.FREEZEMODE=6]="FREEZEMODE"}(i=o.Mode||(o.Mode={})),function(e){e[e.MOVING=0]="MOVING",e[e.ATTACKING=1]="ATTACKING",e[e.BUILDING=2]="BUILDING",e[e.DO_NOTHING=3]="DO_NOTHING"}(s=o.Process||(o.Process={})),function(e){e[e.MOVE=0]="MOVE",e[e.BUILD=1]="BUILD",e[e.ATTACK=2]="ATTACK"}(o.Action||(o.Action={})),function(e){e[e.SELF=0]="SELF",e[e.ENEMY=1]="ENEMY"}(o.Owner||(o.Owner={})),function(e){e[e.MOVE=0]="MOVE",e[e.ATTACK=1]="ATTACK"}(u=o.ClickNutAction||(o.ClickNutAction={}));var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}var o;return r(t,e),o=t,t.distributeNewID=function(){return o.curID++},t.distributeNewPickableItemID=function(){return o.curPickableID++},t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},Object.defineProperty(t,"clickNutAction",{get:function(){return this._clickNutAction},set:function(e){o._clickNutAction!=e&&(o._clickNutAction=e,f.default.SendMessage(p.MessageType.TYPE_EFFECT,p.MessageCmd.CMD_CLICK_NUT_ACTION_CHANGED,e))},enumerable:!1,configurable:!0}),Object.defineProperty(t,"selectedComp",{get:function(){return this._selectedComp},set:function(e){switch(this._selectedComp=e,e){case a.WALL:this.mode=i.BUILDMODE}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"action",{get:function(){return o._action},set:function(e){switch(o._action=e,e){case s.MOVING:o.mode=i.WAITMODE}f.default.SendMessage(p.MessageType.TYPE_ANY,p.MessageCmd.CMD_ACTIONCHANGED,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"mode",{get:function(){return o._mode},set:function(e){switch(o._mode=e,f.default.SendMessage(p.MessageType.TYPE_ANY,p.MessageCmd.CMD_MODECHANGED,e),console.debug("\u6a21\u5f0f\u8f6c\u53d8"),o._mode){case i.WAITMODE:o.canPlace=!1,o.canAttack=!1,o.canMove=!1,console.debug("\u7b49\u5f85\u6a21\u5f0f");break;case i.OPERATEMODE:o.canPlace=!0;break;case i.BUILDMODE:console.debug("\u5efa\u7b51\u6a21\u5f0f")}},enumerable:!1,configurable:!0}),t.prototype.SetMessageType=function(){return p.MessageType.TYPE_STATE},t.prototype.ReceiveMessage=function(e){if(e.Type==this.messageType||!e.Type)switch(e.Command){case p.MessageCmd.CMD_MOVECHANCE_CHANGED:this.updateMoveRemainder();break;case p.MessageCmd.CMD_ROUND_OVER:o.mode=i.OPERATEMODE;case p.MessageCmd.CMD_ATTACKCHANCE_CHANGED:this.updateAttackRemainder()}},t.prototype.updateMoveRemainder=function(){o.temp=0;for(var e=0,t=d.default.Instance.ReceiveList;e<t.length;e++){var n=t[e];o.temp+=n.moveChanceRemainder}o.moveRemainder=o.temp,f.default.SendMessage(p.MessageType.TYPE_UI,p.MessageCmd.CMD_UI_VALUE_CHANGE,null)},t.prototype.updateAttackRemainder=function(){o.temp=0;for(var e=0,t=d.default.Instance.ReceiveList;e<t.length;e++){var n=t[e];o.temp+=n.attackChanceRemainder}o.attackRemainder=o.temp,f.default.SendMessage(p.MessageType.TYPE_UI,p.MessageCmd.CMD_UI_VALUE_CHANGE,null)},t.distanceBetweenTwoNut=function(e,t){return Math.sqrt(Math.pow(e.node.x-t.node.x,2)+Math.pow(e.node.y-t.node.y,2))},t.prototype.start=function(){this.updateMoveRemainder(),this.updateAttackRemainder(),o.mode=i.FREEZEMODE,o.action=s.DO_NOTHING},t.canPlace=!0,t.canMove=!0,t.canBuildWall=!0,t.canPlaceNut=!0,t.placeRemainder=5,t._mode=i.OPERATEMODE,t.actionNut=null,t.curID=0,t.curPickableID=0,t.selectedCompound=null,t.selectedAccessory=null,t.selectedEnemyNut=null,t._clickNutAction=u.MOVE,t._action=s.DO_NOTHING,c([y(cc.Label)],t.prototype,"label",void 0),c([y],t.prototype,"text",void 0),o=c([_],t)}(l.default);o.default=b,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./Message":"Message","./MessageCenter":"MessageCenter","./Nut/NutManager":"NutManager"}],SuspendItem:[function(e,t,o){"use strict";cc._RF.push(t,"c1f24q2F25B0aHX6EnWtlL0","SuspendItem");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ComponentBase"),i=e("../State"),s=cc._decorator,u=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.itemPrefName="",t}return r(t,e),t.prototype.start=function(){var e,t=this;this.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){t.node.setPosition(e.getLocation())}),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(o){if(o.stopPropagation(),console.debug("\u60ac\u6d6e\u7269\u4ef6\u751f\u6210"),i.default.canPlace)switch(t.node.destroy(),i.default.selectedComp){case i.SelectedComp.NORMAL_NUT:t.itemPrefName="normalNut";break;case i.SelectedComp.WALL:t.itemPrefName="wall"}console.debug(i.default.selectedComp),console.debug(t.itemPrefName),t.itemPrefName&&(console.debug("Now itemPrefName is"+t.itemPrefName),cc.loader.loadRes("./prefebs/"+t.itemPrefName,cc.Prefab,function(t,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(e=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),e.setParent(cc.director.getScene()),e.setPosition(o.getLocation())}))})},t.prototype.update=function(){},t.createSuspendItem=function(e,t){var o;cc.loader.loadRes("./prefebs/suspend_prefabs/"+e,cc.Prefab,function(e,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(o=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),o.setParent(cc.director.getScene()),o.setPosition(t.getLocation()),o.on(cc.Node.EventType.MOUSE_MOVE,function(e){o.setPosition(e.getLocation())})})},c([l(cc.Label)],t.prototype,"label",void 0),c([l],t.prototype,"text",void 0),c([u],t)}(a.default);o.default=p,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../State":"State"}],SuspendObjectBase:[function(e,t,o){"use strict";cc._RF.push(t,"81bfdE0tKVLy4eObsidBs0e","SuspendObjectBase");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],UIManager:[function(e,t,o){"use strict";cc._RF.push(t,"56a29/KUTNLN4/jbJD1lQ30","UIManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ManagerBase"),i=e("./Message"),s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return r(t,e),o=t,t.prototype.onLoad=function(){e.prototype.onLoad.call(this),o.Instance=this},t.prototype.SetMessageType=function(){return i.MessageType.TYPE_UI},o=c([u],t)}(a.default));o.default=l,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./Message":"Message"}],WallManager:[function(e,t,o){"use strict";cc._RF.push(t,"903214lv51PAIj+kqYy6B4K","WallManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("./ManagerBase"),i=e("./Message"),s=e("./State"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.dotPre=null,t.wallPreviewPre=null,t.wallPre=null,t.wallNuminWidth=20,t.wallNuminHeight=12,t.dotList=[],t.wallPreviewList=[],t}var o;return r(t,e),o=t,t.prototype.start=function(){var e,t;this.x=this.node.getParent().getChildByName("showWindow").x,this.y=this.node.getParent().getChildByName("showWindow").y,this.width=this.node.getParent().getChildByName("showWindow").width,this.height=this.node.getParent().getChildByName("showWindow").height,this.wallWidth=this.width/this.wallNuminWidth,this.wallHeight=this.height/this.wallNuminHeight,this.showWindow=this.node.getParent().getChildByName("showWindow"),o.Instance=this,this.pos=[[.5*this.wallWidth,0,0],[0,.5*this.wallHeight,90],[.5*this.wallWidth,.5*this.wallHeight,45],[.5*this.wallWidth,.5*this.wallHeight,-45]];for(var n=0;n<=this.wallNuminWidth;n++)for(var r=0;r<=this.wallNuminHeight;r++)(e=cc.instantiate(this.dotPre)).setParent(this.showWindow),e.setPosition(n*this.wallWidth,r*this.wallHeight),e.opacity=0,this.dotList.push(e);for(n=0;n<=this.dotList.length-this.wallNuminHeight-this.wallNuminWidth-2;n++)for(r=0;r<this.pos.length;r++)(t=cc.instantiate(this.wallPreviewPre)).setParent(this.showWindow),t.setPosition(Math.floor(n/this.wallNuminHeight)*this.wallWidth+this.pos[r][0],n%this.wallNuminHeight*this.wallHeight+this.pos[r][1]),t.angle=this.pos[r][2],t.opacity=0,this.wallPreviewList.push(t);console.debug(this.dotList),console.debug(this.wallPreviewList)},t.prototype.SetMessageType=function(){return i.MessageType.TYPE_BUILD},t.prototype.ReceiveMessage=function(e){if(e.Type==this.messageType||!e.Type)switch(e.Command){case i.MessageCmd.CMD_MODECHANGED:if(e.Content==s.Mode.BUILDMODE){for(var t=0;t<this.dotList.length;t++)this.dotList[t].opacity=255;for(t=0;t<this.wallPreviewList.length;t++)this.wallPreviewList[t].opacity=0}else{for(t=0;t<this.dotList.length;t++)this.dotList[t].opacity=0;for(t=0;t<this.wallPreviewList.length;t++)this.wallPreviewList[t].opacity=0}}},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([p(cc.Prefab)],t.prototype,"dotPre",void 0),c([p(cc.Prefab)],t.prototype,"wallPreviewPre",void 0),c([p(cc.Prefab)],t.prototype,"wallPre",void 0),c([p],t.prototype,"wallNuminWidth",void 0),c([p],t.prototype,"wallNuminHeight",void 0),o=c([l],t)}(a.default);o.default=f,cc._RF.pop()},{"./ManagerBase":"ManagerBase","./Message":"Message","./State":"State"}],WorkingTableManager:[function(e,t,o){"use strict";cc._RF.push(t,"d647bK0Vs9Ga4f/9WSAUq9Q","WorkingTableManager");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a,i=e("../ManagerBase"),s=e("./CompoundBase"),u=cc._decorator,l=u.ccclass,p=u.property,f=(a=s.default,r(function(){return null!==a&&a.apply(this,arguments)||this},a),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.materialPref="stone_material",t}r(t,e),t.Instance=function(){return t.instance||(t.instance=new t),t.instance}}(s.default),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemFramePref=null,t._currentY=-100,t}var o;return r(t,e),o=t,t.prototype.start=function(){o.Instance=this,this.createFrame("corssbow_compound_pref")},t.prototype.framePush=function(){this._currentY-=200},t.prototype.frameBack=function(){this._currentY+=200},t.prototype.createFrame=function(e){var t=cc.instantiate(this.itemFramePref);t.setParent(this.node),t.y=this._currentY,t.x=0,this.framePush(),cc.loader.loadRes("./prefebs/compound_prefabs/"+e,cc.Prefab,function(e,o){o||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a");var n=cc.instantiate(o);n&&console.debug("\u8282\u70b9\u4e3a\u7a7a"),n.setParent(t),n.setPosition(0,0)})},t.prototype.destroyFrame=function(e){var t,o;null===(t=e.itemFrame)||void 0===t||t.destroy(),null===(o=e.item)||void 0===o||o.destroy(),this.frameBack()},c([p(cc.Prefab)],t.prototype,"itemFramePref",void 0),o=c([l],t)}(i.default));o.default=f,cc._RF.pop()},{"../ManagerBase":"ManagerBase","./CompoundBase":"CompoundBase"}],attackSelected:[function(e,t,o){"use strict";cc._RF.push(t,"cc489kKLVpN97m1wc/aI+qN","attackSelected");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_MOVE,function(t){e.node.setPosition(t.getLocation())})},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],bolt:[function(e,t,o){"use strict";cc._RF.push(t,"d8050YWRFxAxIkswsC6PbX7","bolt");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../OnLineManager"),i=e("../State"),s=e("./AmmoBase"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.ammoIcon="bolt",t}return r(t,e),t.prototype.start=function(){cc.director.getCollisionManager().enabled=!0},t.prototype.onCollisionEnter=function(e){if(console.debug("\u5f29\u7bad\u653b\u51fb\u5230\u4eba"+e.tag),0==e.tag){var t=e.node.getComponent("NormalNut_Mirror");t.heal-=i.default.actionNut.atk,a.default.SynchroNutValue(t.ID,-i.default.actionNut.atk),this.node.destroy()}},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([l],t)}(s.default);o.default=f,cc._RF.pop()},{"../OnLineManager":"OnLineManager","../State":"State","./AmmoBase":"AmmoBase"}],btn_Back:[function(e,t,o){"use strict";cc._RF.push(t,"12266fCFbpEs4CnH1LyUprC","btn_Back");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],btn_Tick:[function(e,t,o){"use strict";cc._RF.push(t,"f7592Vg4z5DOIDBdI70KWi6","btn_Tick");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ComponentBase"),i=e("../Message"),s=e("../State"),u=e("../UIManager"),l=cc._decorator,p=l.ccclass,f=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){u.default.Instance.RegisterReceiver(this)},t.prototype.start=function(){this.node.opacity=0,this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){s.default.mode==s.Mode.BUILDMODE&&(s.default.mode=s.Mode.OPERATEMODE)})},t.prototype.ReceiveMessage=function(e){e.Command==i.MessageCmd.CMD_MODECHANGED&&(e.Content==s.Mode.BUILDMODE?this.node.opacity=255:this.node.opacity=0)},c([f(cc.Label)],t.prototype,"label",void 0),c([f],t.prototype,"text",void 0),c([p],t)}(a.default);o.default=d,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../State":"State","../UIManager":"UIManager"}],crossbow_compound:[function(e,t,o){"use strict";cc._RF.push(t,"8c616mn161ESZGUqOcx6F5H","crossbow_compound");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../inventory/InventoryManager"),l=e("../materialTab/MaterialManager"),p=e("../State"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.info_tag_pref=null,t.itemIcon="crossbow_side",t.materialConsumeList=[[l.Stick.Instance(),2]],t.description="\u80fd\u591f\u8ba9\u4eba\u611f\u5230\u523a\u75db",t}var o;return r(t,e),o=t,t.prototype.start=function(){var e=this;o.instance=this,this.node.getParent().on(cc.Node.EventType.MOUSE_ENTER,function(){var t;null===(t=e.infoTag)||void 0===t||t.destroy(),e.infoTag=cc.instantiate(e.info_tag_pref),e.infoTag.setParent(e.node),e.infoTag.setScale(2,2),e.infoTag.setPosition(-200,-100),e.infoTag.cursorAimed=!1}),p.default.selectedCompound=this,this.node.getParent().on(cc.Node.EventType.MOUSE_LEAVE,function(t){var o,n;e.node.getBoundingBoxToWorld().contains(t.getLocation())||(null===(o=e.infoTag)||void 0===o?void 0:o.cursorAimed)||null===(n=e.infoTag)||void 0===n||n.destroy()})},t.prototype.createCompound=function(){u.ItemCrossbow.Instance().changeOwnNum(1)},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([s(cc.Prefab)],t.prototype,"info_tag_pref",void 0),o=c([i],t)}(e("./CompoundBase").default);o.default=f,cc._RF.pop()},{"../State":"State","../inventory/InventoryManager":"InventoryManager","../materialTab/MaterialManager":"MaterialManager","./CompoundBase":"CompoundBase"}],crossbow_pickable:[function(e,t,o){"use strict";cc._RF.push(t,"b2bddDr5+lPEqqeUxuOnGGP","crossbow_pickable");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,e("../equipItem/crossbow")),u=e("../State"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){var t=Math.abs(u.default.actionNut.node.getPosition().sub(e.node.getPosition()).mag());u.default.actionNut.pickRaduis>=t&&(u.default.actionNut.addAccessory(s.default.Instance()),e.node.destroy())})},c([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State","../equipItem/crossbow":"crossbow"}],crossbow:[function(e,t,o){"use strict";cc._RF.push(t,"00c2aQ/I/hEJIVF7pamqeRn","crossbow");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../inventory/InventoryManager"),i=e("./EquipAccessoriesBase"),s=cc._decorator,u=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ammoPref="bolt_vertical",t.property=i.AccessoryProperty.IDENTITY_MARK,t.pointToInventoryItem=a.ItemCrossbow.Instance(),t.accessoryIconStr="crossbow_side",t.ammoIconStr="bolt_vertical",t}var o;return r(t,e),o=t,t.Instance=function(){return o.instance||(o.instance=new o),o.instance},t.prototype.setBuff=function(){e.prototype.setBuff.call(this),this.host.attackChanceRemainder+=10,this.host.atk+=10,this.host.attackMotion="nut_shooting_crossbow"},t.prototype.resumeBuff=function(){this.host.attackChanceRemainder-=10,this.host.atk-=10},t.prototype.start=function(){},o=c([u],t)}(i.default));o.default=l,cc._RF.pop()},{"../inventory/InventoryManager":"InventoryManager","./EquipAccessoriesBase":"EquipAccessoriesBase"}],icon_canAttack:[function(e,t,o){"use strict";cc._RF.push(t,"f54e3oo7oVJqb1dAAme8vk4","icon_canAttack");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../State"),l=e("../Message"),p=e("../UIManager"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){p.default.Instance.RegisterReceiver(this),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){if(console.debug("\u70b9\u51fb\u4e86\u653b\u51fb\u6a21\u5f0f"),u.default.clickNutAction=u.ClickNutAction.ATTACK,u.default.selectedComp==u.SelectedComp.NUT_IN_GROUND){if(u.default.mode==u.Mode.ATTACKMODE)return;u.default.mode=u.Mode.ATTACKMODE}})},t.prototype.start=function(){},t.prototype.ReceiveMessage=function(e){e.Command==l.MessageCmd.CMD_UI_VALUE_CHANGE&&(u.default.attackRemainder?this.node.opacity=255:this.node.opacity=60)},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../Message":"Message","../State":"State","../UIManager":"UIManager"}],icon_canBuild:[function(e,t,o){"use strict";cc._RF.push(t,"c251ab+SZxBnYMWnh1vrlyL","icon_canBuild");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,e("../UIManager")),u=e("../Message"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){s.default.Instance.RegisterReceiver(this)},t.prototype.ReceiveMessage=function(e){e.Command==u.MessageCmd.CMD_UI_VALUE_CHANGE&&(this.node.opacity=60)},c([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../Message":"Message","../UIManager":"UIManager"}],icon_canMove:[function(e,t,o){"use strict";cc._RF.push(t,"1c3f1cmpI9ECIkyqwB295/8","icon_canMove");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ComponentBase"),i=e("../Message"),s=e("../State"),u=e("../UIManager"),l=cc._decorator,p=l.ccclass,f=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){u.default.Instance.RegisterReceiver(this),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){if(s.default.clickNutAction=s.ClickNutAction.MOVE,s.default.selectedComp==s.SelectedComp.NUT_IN_GROUND){if(s.default.mode==s.Mode.MOVEMODE)return;s.default.mode=s.Mode.MOVEMODE}})},t.prototype.ReceiveMessage=function(e){e.Command==i.MessageCmd.CMD_UI_VALUE_CHANGE&&(s.default.moveRemainder?this.node.opacity=255:this.node.opacity=60)},c([p],t)}(a.default));o.default=f,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../State":"State","../UIManager":"UIManager"}],info_action:[function(e,t,o){"use strict";cc._RF.push(t,"4936dIIdodBLLVrw74dnA34","info_action");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../State"),l=e("../ComponentBase"),p=e("../Message"),f=e("../UIManager"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){f.default.Instance.RegisterReceiver(this)},t.prototype.ReceiveMessage=function(e){if(e.Command==p.MessageCmd.CMD_ACTIONCHANGED)switch(console.debug("\u68c0\u6d4b\u5230\u884c\u52a8\u6539\u53d8"),e.Content){case u.Process.MOVING:this.node.getComponent(cc.Label).string="\u79fb\u52a8\u4e2d";break;case u.Process.DO_NOTHING:this.node.getComponent(cc.Label).string="\u4ec0\u4e48\u90fd\u4e0d\u505a"}},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(l.default);o.default=d,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../State":"State","../UIManager":"UIManager"}],info_mode:[function(e,t,o){"use strict";cc._RF.push(t,"4f045PJKRpMJ40rGCBv5lAO","info_mode");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../ComponentBase"),l=e("../Message"),p=e("../State"),f=e("../UIManager"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){f.default.Instance.RegisterReceiver(this)},t.prototype.start=function(){},t.prototype.ReceiveMessage=function(e){if(e.Command==l.MessageCmd.CMD_MODECHANGED)switch(e.Content){case p.Mode.WAITMODE:this.node.getComponent(cc.Label).string="\u7b49\u5f85\u6a21\u5f0f";break;case p.Mode.OPERATEMODE:this.node.getComponent(cc.Label).string="\u64cd\u4f5c\u6a21\u5f0f";break;case p.Mode.MOVEMODE:this.node.getComponent(cc.Label).string="\u79fb\u52a8\u6a21\u5f0f";break;case p.Mode.BUILDMODE:this.node.getComponent(cc.Label).string="\u5efa\u7b51\u6a21\u5f0f";break;case p.Mode.ATTACKMODE:this.node.getComponent(cc.Label).string="\u653b\u51fb\u6a21\u5f0f";break;case p.Mode.COMPOUNDMODE:this.node.getComponent(cc.Label).string="\u914d\u4ef6\u6a21\u5f0f";break;case p.Mode.FREEZEMODE:this.node.getComponent(cc.Label).string="\u7b49\u5f85\u522b\u4eba\u51fa\u624b"}},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(u.default);o.default=d,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../State":"State","../UIManager":"UIManager"}],info_tag:[function(e,t,o){"use strict";cc._RF.push(t,"96e3cv3i8dCULTUMnY5AsOY","info_tag");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../State"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.btn_make_compound_pref=null,t.cursorAimed=!1,t.materialIconList=[],t.materialNumLabelList=[],t}return r(t,e),t.prototype.start=function(){var e=this;this.directingCompound=a.default.selectedCompound,this.cursorAimed=!0,this.compoundIcon=new cc.Node,this.compoundIcon.addComponent(cc.Sprite),cc.loader.loadRes(this.directingCompound.itemIcon,cc.SpriteFrame,function(t,o){e.compoundIcon.getComponent(cc.Sprite).spriteFrame=o}),this.compoundIcon.setParent(this.node),this.compoundIcon.setPosition(-30,70);for(var t=function(t){var n=new cc.Node;n.addComponent(cc.Sprite),cc.loader.loadRes(t[0].icon,cc.SpriteFrame,function(e,t){n.getComponent(cc.Sprite).spriteFrame=t}),n.setParent(o.node),n.setPosition(-60,0),o.materialNumLabelList.push(n);var r=new cc.Node;r.color=cc.color(0,0,0),r.addComponent(cc.Label),r.getComponent(cc.Label).string=t[1],r.setParent(o.node),r.setPosition(20,0),o.materialNumLabelList.push(r);var c=new cc.Node;c.color=cc.color(0,0,0),c.addComponent(cc.Label),c.getComponent(cc.Label).string=o.directingCompound.description,c.setParent(o.node),c.getComponent(cc.Label).fontSize=20,c.setPosition(0,-70);var a=cc.instantiate(o.btn_make_compound_pref);a.setParent(o.node),a.setPosition(0,0);var i=new cc.Component.EventHandler;i.target=o.node,i.component="info_tag",i.handler="makeCompound",a.getComponent(cc.Button).clickEvents.push(i),a.on(cc.Node.EventType.MOUSE_MOVE,function(){e.cursorAimed=!0})},o=this,n=0,r=this.directingCompound.materialConsumeList;n<r.length;n++)t(r[n]);this.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e.cursorAimed=!0}),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(t){e.cursorAimed=!1,e.node.getBoundingBoxToWorld().contains(t.getLocation())||e.node.destroy()})},t.prototype.makeCompound=function(){for(var e=!0,t=0,o=this.directingCompound.materialConsumeList;t<o.length;t++){var n=o[t];e=e&&n[0].checkConsumeAviliable(-n[1])}if(e){for(var r=0,c=this.directingCompound.materialConsumeList;r<c.length;r++)(n=c[r])[0].changeOwnNum(-n[1]);this.directingCompound.createCompound()}},c([u(cc.Label)],t.prototype,"label",void 0),c([u],t.prototype,"text",void 0),c([u(cc.Prefab)],t.prototype,"btn_make_compound_pref",void 0),c([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State"}],item_Wall:[function(e,t,o){"use strict";cc._RF.push(t,"75aecvPoi1LJruQDAZVCD15","item_Wall");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../State"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){a.default.selectedComp=a.SelectedComp.WALL})},c([u(cc.Label)],t.prototype,"label",void 0),c([u],t.prototype,"text",void 0),c([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State"}],item_crossbow:[function(e,t,o){"use strict";cc._RF.push(t,"227d1GWEgRFF4H09hIRciYb","item_crossbow");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../State"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){console.debug("\u70b9\u51fb\u5f29\u7bad"),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(e){var t;u.default.mode!=u.Mode.OPERATEMODE&&u.default.mode!=u.Mode.MOVEMODE&&u.default.mode!=u.Mode.ATTACKMODE&&u.default.mode!=u.Mode.COMPOUNDMODE||(u.default.selectedComp=u.SelectedComp.NORMAL_NUT,cc.loader.loadRes("./prefebs/suspend_prefabs/suspend_crossbow_pref",cc.Prefab,function(o,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(t=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.setParent(cc.director.getScene()),t.setPosition(e.getLocation())}))})},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State"}],item_normal_hammer:[function(e,t,o){"use strict";cc._RF.push(t,"fd1eemXc01HRqSBbAXxUVHi","item_normal_hammer");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=e("../State"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(e){var t;u.default.mode==u.Mode.OPERATEMODE&&(u.default.selectedComp=u.SelectedComp.NORMAL_NUT,cc.loader.loadRes("./prefebs/suspend_prefabs/",cc.Prefab,function(o,n){n||console.debug("\u9884\u5236\u4f53\u4e3a\u7a7a"),(t=cc.instantiate(n))||console.debug("\u8282\u70b9\u4e3a\u7a7a"),t.setParent(cc.director.getScene()),t.setPosition(e.getLocation())}))})},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../State":"State"}],normal_hammer:[function(e,t,o){"use strict";cc._RF.push(t,"4376cbtv3BFvq7oOIazQMou","normal_hammer");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ComponentBase"),i=cc._decorator,s=i.ccclass,u=i.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([u(cc.Label)],t.prototype,"label",void 0),c([u],t.prototype,"text",void 0),c([s],t)}(a.default);o.default=l,cc._RF.pop()},{"../ComponentBase":"ComponentBase"}],remainder_Attack:[function(e,t,o){"use strict";cc._RF.push(t,"dfc5aXvmZtDgJdj7cd1WNSr","remainder_Attack");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../Message"),i=e("../State"),s=e("../UIManager"),u=cc._decorator,l=u.ccclass,p=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.onLoad=function(){s.default.Instance.RegisterReceiver(this)},t.prototype.start=function(){},t.prototype.ReceiveMessage=function(e){e.Command==a.MessageCmd.CMD_UI_VALUE_CHANGE&&(this.node.getComponent(cc.Label).string=i.default.attackRemainder)},c([p(cc.Label)],t.prototype,"label",void 0),c([p],t.prototype,"text",void 0),c([l],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../Message":"Message","../State":"State","../UIManager":"UIManager"}],remainder_Build:[function(e,t,o){"use strict";cc._RF.push(t,"6cba0OKkjtACaUcTSsxWk49","remainder_Build");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return r(t,e),t.prototype.start=function(){},c([s(cc.Label)],t.prototype,"label",void 0),c([s],t.prototype,"text",void 0),c([i],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],remainder_Move:[function(e,t,o){"use strict";cc._RF.push(t,"e5029yA+K5Du5RXZKgyiWqM","remainder_Move");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../ComponentBase"),i=e("../Message"),s=e("../UIManager"),u=e("../State"),l=cc._decorator,p=l.ccclass,f=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){s.default.Instance.RegisterReceiver(this)},t.prototype.ReceiveMessage=function(e){e.Command==i.MessageCmd.CMD_UI_VALUE_CHANGE&&(this.node.getComponent(cc.Label).string=u.default.moveRemainder)},c([p],t)}(a.default));o.default=f,cc._RF.pop()},{"../ComponentBase":"ComponentBase","../Message":"Message","../State":"State","../UIManager":"UIManager"}],sad_face:[function(e,t,o){"use strict";cc._RF.push(t,"50d0fUf3jtG/7iDWg1PpVeI","sad_face");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,e("./EquipAccessoriesBase")),u=e("./EquipAccessoriesBase"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.property=u.AccessoryProperty.BUFF,t.accessoryIconStr="",t.ammoIconStr="bolt_vertical",t.accessoryPlace=s.AccessoryPlace.BODY,t}var o;return r(t,e),o=t,t.Instance=function(){return o.instance||(o.instance=new o),o.instance},t.prototype.setBuff=function(){e.prototype.setBuff.call(this),this.host.atk*=.5},t.prototype.resumeBuff=function(){this.host.atk/=.5},t.prototype.start=function(){},o=c([i],t)}(u.default);o.default=l,cc._RF.pop()},{"./EquipAccessoriesBase":"EquipAccessoriesBase"}],stick:[function(e,t,o){"use strict";cc._RF.push(t,"77ca43WpehHaJ5wBibKWA5N","stick");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../State"),i=e("../materialTab/MaterialManager"),s=e("./PickableItemBase"),u=e("../OnLineManager"),l=cc._decorator,p=l.ccclass,f=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab="stick",t}return r(t,e),t.prototype.start=function(){var t=this;u.default.SynchroNewPickableItem(this.itemPrefab,this.node.getPosition()),e.prototype.start.call(this),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){var e,o,n=Math.abs(null===(e=a.default.actionNut)||void 0===e?void 0:e.node.getPosition().sub(t.node.getPosition()).mag());(null===(o=a.default.actionNut)||void 0===o?void 0:o.pickRaduis)>=n&&(i.Stick.Instance().changeOwnNum(1),t.node.destroy(),u.default.SynchroDestroyPickableItem(t.itemID))})},c([p],t)}(s.default));o.default=f,cc._RF.pop()},{"../OnLineManager":"OnLineManager","../State":"State","../materialTab/MaterialManager":"MaterialManager","./PickableItemBase":"PickableItemBase"}],stone:[function(e,t,o){"use strict";cc._RF.push(t,"1fff468uk9JLpFoVpQs4YOj","stone");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,i=a.ccclass,s=(a.property,e("../State")),u=e("../materialTab/MaterialManager"),l=e("./PickableItemBase"),p=e("../OnLineManager"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab="stone",t}return r(t,e),t.prototype.start=function(){var t=this;e.prototype.start.call(this),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){var e=Math.abs(s.default.actionNut.node.getPosition().sub(t.node.getPosition()).mag());s.default.actionNut.pickRaduis>=e&&(u.Stone.Instance().changeOwnNum(1),t.node.destroy(),p.default.SynchroDestroyPickableItem(t.itemID))})},c([i],t)}(l.default);o.default=f,cc._RF.pop()},{"../OnLineManager":"OnLineManager","../State":"State","../materialTab/MaterialManager":"MaterialManager","./PickableItemBase":"PickableItemBase"}],suspend_crossbow:[function(e,t,o){"use strict";cc._RF.push(t,"9cf5bOgUSlByJNmE3zuyymo","suspend_crossbow");var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),c=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,a=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(a=(c<3?r(a):c>3?r(t,o,a):r(t,o))||a);return c>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=e("../equipItem/crossbow"),i=e("../inventory/InventoryManager"),s=e("../State"),u=e("./SuspendObjectBase"),l=cc._decorator,p=l.ccclass,f=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t.pointToInventoryItem=i.ItemCrossbow.Instance(),t}return r(t,e),t.prototype.start=function(){var e=this;this.node.on(cc.Node.EventType.MOUSE_MOVE,function(t){e.node.setPosition(t.getLocation())}),s.default.mode=s.Mode.COMPOUNDMODE,s.default.selectedAccessory=a.default.Instance(),this.node.on(cc.Node.EventType.MOUSE_DOWN,function(){e.node.destroy(),s.default.mode=s.Mode.OPERATEMODE})},c([f(cc.Label)],t.prototype,"label",void 0),c([f],t.prototype,"text",void 0),c([p],t)}(u.default);o.default=d,cc._RF.pop()},{"../State":"State","../equipItem/crossbow":"crossbow","../inventory/InventoryManager":"InventoryManager","./SuspendObjectBase":"SuspendObjectBase"}]},{},["AudioManager","BarControl","ButtonManager","CastleControl","ComponentBase","EffectMnanger","Interface","ItemFrameManager","ManagerBase","MapManager","Message","MessageCenter","NormalNut","NutBase","NutManager","OnLineManager","PreviewWallControl","RadiusAttack","RadiusMove","ShowWindowManager","State","UIManager","btn_Back","btn_Tick","icon_canAttack","icon_canBuild","icon_canMove","info_action","info_mode","remainder_Attack","remainder_Build","remainder_Move","WallManager","AmmoBase","bolt","EquipAccessoriesBase","crossbow","normal_hammer","sad_face","DroppableItemBase","InventoryManager","Item_NormalNut","item_Wall","item_crossbow","item_normal_hammer","MaterialManager","NormalNut_Mirror","PickableItemBase","PickableItemManager","crossbow_pickable","stick","stone","SuspendItem","SuspendObjectBase","attackSelected","suspend_crossbow","CompoundBase","WorkingTableManager","crossbow_compound","info_tag"]);